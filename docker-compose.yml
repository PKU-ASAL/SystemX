# SysArmor EDR/HIDS 系统 - 逻辑模块编排
# 支持单机部署和分布式部署两种模式，本文件用于一体化部署

include:
  - path: ./deployments/compose/manager.yml
    env_file: .env
  - path: ./services/middleware/docker-compose.yml
    env_file: .env
  - path: ./services/processor/docker-compose.yml
    env_file: .env
  - path: ./services/indexer/docker-compose.yml
    env_file: .env
  - path: ./apps/ui/docker-compose.yml
    env_file: .env

# 全局网络定义 (支持环境变量配置)
networks:
  sysarmor-net:
    driver: bridge
    name: ${SYSARMOR_NETWORK:-sysarmor-net}
    external: ${SYSARMOR_NETWORK_EXTERNAL:-false}
