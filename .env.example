# =============================================================================
# SysArmor EDR 环境配置 - 12-Factor App模式
# =============================================================================

# 部署模式
DEPLOYMENT_MODE=single-node          # single-node, distributed
ENVIRONMENT=development              # development, production

# 网络配置
SYSARMOR_NETWORK=sysarmor-net
EXTERNAL_IP=localhost

# 数据库配置 (PostgreSQL)
POSTGRES_DB=sysarmor
POSTGRES_USER=sysarmor
POSTGRES_PASSWORD=password

# Manager服务 (控制平面)
MANAGER_PORT=8080
MANAGER_DB_URL=postgres://sysarmor:password@postgres:5432/sysarmor
MANAGER_LOG_LEVEL=info

# Middleware服务 (Vector + Kafka)
VECTOR_TCP_PORT=6000
VECTOR_API_PORT=8686
KAFKA_BROKERS=kafka:9092
KAFKA_EXTERNAL_HOST=localhost
KAFKA_EXTERNAL_PORT=9094
KAFKA_CLUSTER_ID=0203ecef23a24688af6901b94ebafa80

# Processor服务 (PyFlink)
FLINK_JOBMANAGER_PORT=8081
FLINK_TASKMANAGER_SLOTS=2
FLINK_PARALLELISM=2
THREAT_RULES_PATH=/app/configs/rules.yaml

# Indexer服务 (OpenSearch)
OPENSEARCH_URL=http://opensearch:9200
OPENSEARCH_USERNAME=admin
OPENSEARCH_PASSWORD=admin
INDEX_PREFIX=sysarmor-events

# Worker配置 (Vector服务)
WORKER_URLS=default-worker:http://localhost:6000:http://localhost:8686/health
PROMETHEUS_URL=http://middleware-prometheus:9090
