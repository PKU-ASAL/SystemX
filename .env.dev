# =============================================================================
# SysArmor EDR 开发环境配置
# 用于 docker-compose.dev.yml，连接到远程middleware
# =============================================================================

# 部署模式
DEPLOYMENT_MODE=distributed
ENVIRONMENT=development

# 网络配置
SYSARMOR_NETWORK=sysarmor-net
SYSARMOR_NETWORK_EXTERNAL=false
EXTERNAL_IP=localhost

# =============================================================================
# 数据库配置 (本地PostgreSQL)
# =============================================================================
POSTGRES_DB=sysarmor
POSTGRES_USER=sysarmor
POSTGRES_PASSWORD=password
POSTGRES_VOLUME_NAME=sysarmor_manager_postgres_data
POSTGRES_VOLUME_EXTERNAL=false

# =============================================================================
# Manager服务配置
# =============================================================================
MANAGER_HOST=manager
MANAGER_PORT=8080
MANAGER_DB_URL=postgres://sysarmor:password@postgres:5432/sysarmor?sslmode=disable
MANAGER_LOG_LEVEL=info

# =============================================================================
# 远程Middleware连接配置 (49.232.13.155)
# =============================================================================
# Vector配置
VECTOR_HOST=49.232.13.155
VECTOR_TCP_PORT=6000
VECTOR_API_PORT=8686
VECTOR_METRICS_PORT=9598

# Kafka配置
KAFKA_HOST=49.232.13.155
KAFKA_INTERNAL_PORT=9092
KAFKA_EXTERNAL_HOST=49.232.13.155
KAFKA_EXTERNAL_PORT=9094
KAFKA_CONTROLLER_PORT=9093
KAFKA_JMX_PORT=9101
KAFKA_JMX_HOSTNAME=middleware-kafka
KAFKA_BOOTSTRAP_SERVERS=49.232.13.155:9094
KAFKA_CLUSTER_ID=0203ecef23a24688af6901b94ebafa80

# Prometheus配置
PROMETHEUS_HOST=49.232.13.155
PROMETHEUS_PORT=9090
PROMETHEUS_URL=http://49.232.13.155:9090

# Worker配置
WORKER_URLS=49.232.13.155:http://49.232.13.155:6000:http://49.232.13.155:8686/health

# =============================================================================
# 本地Processor服务配置
# =============================================================================
FLINK_JOBMANAGER_HOST=flink-jobmanager
FLINK_JOBMANAGER_PORT=8081
FLINK_JOBMANAGER_URL=http://flink-jobmanager:8081
FLINK_TASKMANAGER_SLOTS=2
FLINK_PARALLELISM=2

# =============================================================================
# 本地Indexer服务配置
# =============================================================================
OPENSEARCH_HOST=opensearch
OPENSEARCH_PORT=9200
OPENSEARCH_URL=http://opensearch:9200
OPENSEARCH_USERNAME=admin
OPENSEARCH_PASSWORD=admin
INDEX_PREFIX=sysarmor-events
OPENSEARCH_DATA_VOLUME_NAME=sysarmor_indexer_opensearch_data
OPENSEARCH_DATA_VOLUME_EXTERNAL=false

# =============================================================================
# Wazuh集成配置 (可选)
# =============================================================================
WAZUH_ENABLED=false
WAZUH_MANAGER_HOST=wazuh-manager
WAZUH_MANAGER_PORT=55000
WAZUH_MANAGER_USERNAME=wazuh
WAZUH_MANAGER_PASSWORD=wazuh
WAZUH_MANAGER_TLS=true
WAZUH_MANAGER_TLS_VERIFY=false
WAZUH_INDEXER_HOST=wazuh-indexer
WAZUH_INDEXER_PORT=9200
WAZUH_INDEXER_USERNAME=admin
WAZUH_INDEXER_PASSWORD=admin
WAZUH_INDEXER_TLS=true
WAZUH_INDEXER_TLS_VERIFY=false
WAZUH_CONFIG_PATH=/app/configs/wazuh.yaml
