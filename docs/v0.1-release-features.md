# SysArmor EDR/HIDS v0.1 版本功能特性

## 🎯 版本概述

SysArmor v0.1 是首个发布版本，实现四大核心模块的基础打通，支持 agentless 数据采集和基于 NODLINK 的实时威胁检测。

**发布日期**: 2025年Q1  
**核心目标**: Manager + Middleware + Processor + Indexer 模块打通  
**部署方式**: Docker Compose 一键部署  

## 🏗️ 核心架构

### 四大核心模块
- **Manager**: 控制平面，系统管理和 API 服务 (Go + PostgreSQL)
- **Middleware**: 数据中间件，消息队列和路由 (Vector + Kafka)
- **Processor**: 数据处理，Flink 作业和 NODLINK 集成 (Flink + PyFlink)
- **Indexer**: 索引存储，告警事件存储 (OpenSearch + Python)

### 技术栈
- **后端**: Go 1.24, Python 3.11
- **流处理**: Apache Flink 1.18
- **消息队列**: Apache Kafka (KRaft模式)
- **搜索引擎**: OpenSearch 2.11
- **数据收集**: Vector (Rust)
- **数据库**: PostgreSQL 15
- **容器化**: Docker + Docker Compose

---

## ✨ v0.1 核心功能

### 1. 🔧 Manager 模块 (控制平面)
- ✅ **基础 API**: RESTful API 接口和 Swagger 文档
- ✅ **设备管理**: Collector 注册和状态监控
- ✅ **健康检查**: 系统组件健康状态监控

### 2. 📡 Middleware 模块 (数据中间件)
- ✅ **数据收集**: Vector 接收 auditd 数据
- ✅ **消息队列**: Kafka 消息路由和存储
- ✅ **Topic 管理**: 基于 collector_id 的动态 Topic 创建

### 3. 🛡️ Processor 模块 (数据处理)
- ✅ **Flink 作业**: 实时流处理引擎
- ✅ **NODLINK 集成**: auditd 到 sysdig 格式转换
- ✅ **告警生成**: 基于 NODLINK 的威胁检测和告警推送

### 4. 🔍 Indexer 模块 (索引存储)
- ✅ **OpenSearch 集成**: 告警事件索引和存储
- ✅ **查询 API**: 告警事件查询和检索

---

## 🚀 部署与运维

### 一键部署
- ✅ **Docker Compose**: 统一的服务编排
- ✅ **环境配置**: .env 文件驱动的配置管理
- ✅ **健康检查**: 所有服务的健康状态监控

---

## 🔄 数据流程

### 核心数据流
1. **数据采集**: Vector 接收 auditd 数据 → Kafka Topic
2. **数据处理**: Flink 作业消费 Kafka → NODLINK 转换 → 告警生成
3. **数据存储**: 告警事件推送到 OpenSearch 索引
4. **数据查询**: Manager API 查询 OpenSearch 告警数据

---

## 🔧 基础 API

### 核心 API
- **设备管理**: `/api/v1/collectors/*` - Collector 注册和状态
- **告警查询**: `/api/v1/events/*` - 告警事件查询
- **健康检查**: `/api/v1/health/*` - 系统健康状态

---

## 🚦 版本路线图

### v0.1 (当前版本) - 基础模块打通
**核心目标**: 四大模块基础功能实现和数据流打通
- ✅ **Manager 模块**: 基础 API 和设备管理
- ✅ **Middleware 模块**: Vector + Kafka 数据收集
- ✅ **Processor 模块**: Flink 作业和 NODLINK 集成
- ✅ **Indexer 模块**: OpenSearch 告警存储

### v0.2 (下一版本) - 功能增强
**扩展目标**: 高级功能和智能化增强
- 📋 **Wazuh 集成**: SIEM 功能集成
- 📋 **双向通信**: Agent 和 Manager 双向通信
- 📋 **前端界面**: Web 管理界面
- 📋 **智能分析**: 机器学习威胁检测

---

## 🎉 总结

SysArmor v0.1 实现了基础 HIDS 平台的核心功能：

- **模块打通**: Manager + Middleware + Processor + Indexer 四大模块完整集成
- **数据流通**: auditd 数据采集 → Kafka 消息队列 → Flink 处理 → OpenSearch 存储
- **NODLINK 集成**: 实时 auditd 到 sysdig 格式转换和威胁检测
- **一键部署**: Docker Compose 统一部署和管理
- **基础 API**: 设备管理、告警查询、健康检查等核心接口
